# NPC 팩션

NPC 팩션은 다음과 같습니다:

```json
{
  "type": "faction",
  "id": "free_merchants",
  "name": "The Free Merchants",
  "likes_u": 30,
  "respects_u": 30,
  "known_by_u": false,
  "size": 100,
  "power": 100,
  "food_supply": 115200,
  "lone_wolf_faction": true,
  "wealth": 75000000,
  "currency": "FMCNote",
  "relations": {
    "free_merchants": {
      "kill on sight": false,
      "watch your back": true,
      "share my stuff": true,
      "guard your stuff": true,
      "lets you in": true,
      "defends your space": true,
      "knows your voice": true
    },
    "old_guard": {
      "kill on sight": false,
      "watch your back": true,
      "share my stuff": false,
      "guard your stuff": true,
      "lets you in": true,
      "defends your space": true,
      "knows your voice": true
    },
    "hells_raiders": {
      "kill on sight": true
    }
  },    
  "description": "무역과 산업을 통해 존재를 확립하기 위해 함께 서 있는 기업가와 사업가들의 집합체입니다."
},
```

| 필드                  | 의미                                                                                                                                                  |
| --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| `"type"`              | 문자열, `"faction"`이어야 함                                                                                                                          |
| `"id"`                | 문자열, 고유 팩션 ID                                                                                                                                  |
| `"name"`              | 문자열, 팩션의 일반 이름                                                                                                                              |
| `"likes_u"`           | 정수, 플레이어에 대한 팩션의 시작 의견. `"likes_u"`는 플레이 중에 증가하거나 감소할 수 있습니다. -10 아래로 떨어지면 팩션의 구성원이 적대적이 됩니다. |
| `"respects_u"`        | 정수, 플레이어에 대한 팩션의 시작 의견. 게임 내에서 의미 있는 효과가 없으며 향후 제거될 수 있습니다.                                                  |
| `"known_by_u"`        | 불린, 플레이어가 팩션의 구성원을 만났는지 여부. 플레이 중에 변경될 수 있습니다. 알려지지 않은 팩션은 팩션 메뉴에 표시되지 않습니다.                   |
| `"size"`              | 정수, 팩션 구성원의 대략적인 수. 현재 플레이에 영향을 미치지 않습니다.                                                                                |
| `"power"`             | 정수, 팩션의 힘에 대한 근사치. 현재 플레이에 영향을 미치지 않습니다.                                                                                  |
| `"food_supply"`       | 정수, 팩션이 사용할 수 있는 칼로리 수. 현재 플레이에 영향을 미치지 않습니다.                                                                          |
| `"wealth"`            | 정수, 팩션이 물건을 구매하기 위해 가지고 있는 전후 통화(센트 단위) 수.                                                                                |
| `"currency"`          | 문자열, 팩션이 선호하는 통화의 아이템 `"id"`. 팩션 상점 주인은 판매와 구매 모두에 대해 100% 가치로 팩션 통화를 거래합니다.                            |
| `"relations"`         | 딕셔너리, 팩션이 다른 팩션을 보는 방식에 대한 설명. 아래 참조                                                                                         |
| `"mon_faction"`       | 문자열, 선택 사항. 이 팩션이 계산되는 몬스터 팩션의 몬스터 팩션 `"name"`. 지정되지 않은 경우 기본값은 "human"입니다.                                  |
| `"lone_wolf_faction"` | bool, 선택 사항. 동적으로 생성된 NPC에 대한 1인 팩션을 생성하는 데 사용되는 프로토/마이크로 팩션 템플릿, 지정되지 않은 경우 기본값은 "false"입니다.   |

## 팩션 관계

팩션은 팩션의 각 구성원에게 적용되는 서로 간의 관계를 가질 수 있습니다. 팩션 관계는 상호적이지 않습니다: 자유 상인의 구성원은 로비 거지의 구성원을 방어하지만, 로비 거지의 구성원은 자유 상인의 구성원을 방어하지 않습니다.

팩션 관계는 딕셔너리에 저장되며, 딕셔너리 키는 팩션의 이름이고 값은 불린 플래그의 두 번째 딕셔너리입니다. 모든 플래그는 선택 사항이며 기본값은 false입니다. 딕셔너리가 있는 팩션은 행동하는 팩션이고 다른 팩션은 대상 팩션입니다.

플래그의 의미는 다음과 같습니다:

| 플래그                 | 의미                                                                                                      |
| ---------------------- | --------------------------------------------------------------------------------------------------------- |
| `"kill on sight"`      | 행동하는 팩션의 구성원은 대상 팩션의 구성원에게 항상 적대적입니다.                                        |
| `"watch your back"`    | 행동하는 팩션의 구성원은 대상 팩션의 구성원에 대한 공격을 자신에 대한 공격으로 취급합니다.                |
| `"share my stuff"`     | 행동하는 팩션의 구성원은 대상 팩션의 구성원이 행동하는 팩션이 소유한 아이템을 가져가도 반대하지 않습니다. |
| `"guard your stuff"`   | 행동하는 팩션의 구성원은 누군가 대상 팩션이 소유한 아이템을 가져가면 반대합니다.                          |
| `"lets you in"`        | 행동하는 팩션의 구성원은 대상 팩션의 구성원이 행동하는 팩션이 통제하는 영역에 들어가도 반대하지 않습니다. |
| `"defends your space"` | 행동하는 팩션의 구성원은 누군가 대상 팩션이 통제하는 영역에 들어가면 적대적이 됩니다.                     |
| `"knows your voice"`   | 행동하는 팩션의 구성원은 대상 팩션의 구성원의 말에 대해 언급하지 않습니다.                                |

지금까지 `"kill on sight"`, `"knows your voice"`, `"watch your back"`만 구현되었습니다.
